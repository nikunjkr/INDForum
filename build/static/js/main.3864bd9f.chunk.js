(this.webpackJsonpforum=this.webpackJsonpforum||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},106:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(9),a=n.n(c),r=(n(100),n(101),n(174)),i=n(175),s=n(11),l=(n(106),n(173)),d=n(49),u=n.n(d),p=n(50),m=n.n(p),v=n(170),j=n(167),b=n(56),h=n(171),f=n(172),x=n(169),O=n(79),g=Object(O.a)(),_=n(177),y=n(164),w=Object(y.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken",margin:"10px"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative",mx:"200px",width:"75%",padding:"20px"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"}}),C=n(2),E=function(e){var t=e.post,n=w(),o=null===t||void 0===t?void 0:t.post_id;return console.log(t),Object(C.jsxs)(j.a,{className:n,children:[Object(C.jsx)(x.a,{avatar:Object(C.jsx)(_.a,{"aria-label":"recipe",className:n.avatar,src:null===t||void 0===t?void 0:t.user_image}),title:null===t||void 0===t?void 0:t.name}),Object(C.jsxs)("div",{className:"post__header",children:[Object(C.jsx)(v.a,{className:"post__header__upvote",children:Object(C.jsx)(u.a,{})}),(null===t||void 0===t?void 0:t.upvotes)-(null===t||void 0===t?void 0:t.downvotes),Object(C.jsx)(v.a,{className:"post__header__downvote",children:Object(C.jsx)(m.a,{})})]}),Object(C.jsx)(b.a,{variant:"h3",component:"h3",children:null===t||void 0===t?void 0:t.title}),""!==(null===t||void 0===t?void 0:t.image_link)?Object(C.jsx)(h.a,{className:n.media,image:null===t||void 0===t?void 0:t.image_link,title:null===t||void 0===t?void 0:t.Title}):Object(C.jsx)(h.a,{title:null===t||void 0===t?void 0:t.Title}),Object(C.jsx)("h4",{children:null===t||void 0===t?void 0:t.caption}),Object(C.jsx)("h3",{children:null===t||void 0===t?void 0:t.timePosted}),Object(C.jsxs)(f.a,{children:[Object(C.jsxs)(l.a,{size:"small",color:"primary",onClick:function(){localStorage.setItem("post_id",{postid:o}),window.location.assign("/".concat(o,"/comments"))},children:[null===t||void 0===t?void 0:t.noofcomments," Comments"]}),Object(C.jsx)("form",{})]})]})},k=n(12),T=n.n(k),N=n(20),M=n(84),I=n.n(M),z=n(51),P=n.n(z),S=I.a.create({baseURL:"https://ec2-52-206-109-241.compute-1.amazonaws.com/team2practo"});S.interceptors.request.use((function(e){return P.a.set("token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTYxMTc2NTcyNDE2MzgzNjM2NDkiLCJlbWFpbCI6Im5pa3VuamtyMDc4QGdtYWlsLmNvbSIsImlhdCI6MTYxMzg0OTc1OCwiZXhwIjoxNjEzODUzMzU4fQ.pjrx4ZDqE0dZCJadgl6EUVep3mGcZHZa1FcN4r1VjHI"),e.headers.Authorization=P.a.get("token"),e}));var R=function(e){return S.put("/comments/uord",{comment_id:e,upordown:"u"})},A=function(e,t){return S.post("/comments",{post_id:e,comment:t})},D=function(e){return S.get("/comments/".concat(e,"/thread"))},U=function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){var o,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a=e,S.get("/".concat(a,"/comments"));case 3:o=t.sent,c=o.data,n({type:"GET_POST_COMMENTS",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var a}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e,t){return function(){var n=Object(N.a)(T.a.mark((function n(o){var c,a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A(e,t);case 3:c=n.sent,a=c.data,console.log(a,"secret"),o({type:"CREATE_COMMENT",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},V=function(e,t,n){return function(){var n=Object(N.a)(T.a.mark((function n(o){var c,a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A(e,t);case 3:c=n.sent,a=c.data,console.log(a,"secret"),o({type:"REPLY_COMMENT",payload:a}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},G=function(){Object(s.b)();var e=Object(s.c)((function(e){return e.Posts}));return e.length?Object(C.jsx)(i.a,{item:!0,xs:6,container:!0,spacing:6,children:e.map((function(e,t){return Object(C.jsx)(i.a,{item:!0,x3:12,sm:12,children:Object(C.jsx)(E,{post:e})},t)}))}):Object(C.jsx)(r.a,{})},H=n(55),J=n(176),F=function(e){var t,n,c=Object(s.c)((function(e){var t;return null===(t=e.User)||void 0===t?void 0:t.Name}));console.log(null===(t=e.post)||void 0===t?void 0:t.post_id,"adding comments");var a=null===(n=e.post)||void 0===n?void 0:n.post_id,r=e.up_level_cid;console.log(r);var i=Object(s.b)(),d=Object(o.useState)(""),u=Object(H.a)(d,2),p=u[0],m=u[1],v=function(){var e=Object(N.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(L(a,p)),i(U(a)),m("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j="Comment as "+c;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(J.a,{id:"outlined-multiline-static",margin:"normal",label:j,multiline:!0,rows:4,variant:"outlined",size:"medium",fullWidth:!0,onChange:function(e){var t=e.target.value;m(t)},value:p}),Object(C.jsx)(l.a,{variant:"contained",color:"primary",onClick:v,children:"Comment"})]})},W=n(133),Y=(n(128),function(e){var t,n,c,a,r,d,p,j,b=null===(t=e.comment)||void 0===t?void 0:t.post_id;console.log("Seeing the comments of a post",e);var h=Object(s.b)();return Object(o.useEffect)((function(){h(U(b)),console.log("useEffect in comments")}),[h,null===(n=e.comment)||void 0===n?void 0:n.comment_id,b]),console.log(e,"inside comments"),Object(C.jsxs)(W.a,{style:{padding:"40px 20px",marginTop:10},children:[Object(C.jsxs)(i.a,{id:"comment-grid",container:!0,wrap:"nowrap",spacing:2,children:[Object(C.jsx)(i.a,{item:!0,children:Object(C.jsx)(_.a,{alt:"Remy Sharp",src:null===e||void 0===e||null===(c=e.comment)||void 0===c?void 0:c.user_image})}),Object(C.jsxs)(i.a,{justifyContent:"left",item:!0,xs:!0,zeroMinWidth:!0,children:[Object(C.jsx)("h4",{style:{margin:0,textAlign:"left"},children:null===(a=e.comment)||void 0===a?void 0:a.name}),Object(C.jsx)("p",{style:{textAlign:"left",color:"gray"},children:null===(r=e.comment)||void 0===r?void 0:r.timeCommented}),Object(C.jsx)("p",{style:{textAlign:"left"},children:null===e||void 0===e||null===(d=e.comment)||void 0===d?void 0:d.comment}),Object(C.jsx)(v.a,{className:"post__header__upvote",onClick:function(){var t,n;return h((n=null===(t=e.comment)||void 0===t?void 0:t.comment_id,function(){var e=Object(N.a)(T.a.mark((function e(t){var o,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(n);case 3:o=e.sent,c=o.data,t({type:"UPVOTE_COMMENT",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error in upvote comments");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(C.jsx)(u.a,{color:"primary"})}),(null===(p=e.comment)||void 0===p?void 0:p.upVotes)-(null===(j=e.comment)||void 0===j?void 0:j.downVotes),Object(C.jsx)(v.a,{className:"post__header__downvote",children:Object(C.jsx)(m.a,{})})]})]}),Object(C.jsx)(l.a,{size:"small",color:"black",onClick:function(){var t,n;localStorage.setItem("post_id",null===(t=e.comment)||void 0===t?void 0:t.post_id),window.location.assign("/comments/".concat(null===(n=e.comment)||void 0===n?void 0:n.comment_id,"/thread"))},children:"View Thread"})]})}),Z=function(e){var t=e.match,n=Object(s.b)(),c=t.params.postid,a=null,r=[];Object(o.useEffect)((function(){n(U(c)),console.log("dispatching getPostComments")}),[n,c]);var l=Object(s.c)((function(e){return e.Comments})),d=Object(s.c)((function(e){return e.Posts}));console.log(l,"Heare are comments");for(var u=0;u<d.length;u++){var p;(null===(p=d[u])||void 0===p?void 0:p.post_id)==c&&(a=d[u])}for(var m=0;m<l.length;m++){var v;(null===(v=l[m])||void 0===v?void 0:v.post_id)==c&&r.push(l[m])}return r.sort((function(e,t){return(null===e||void 0===e?void 0:e.timePosted)>(null===t||void 0===t?void 0:t.timePosted)?-1:1})),console.log(a,"new post"),console.log(l,"zero"),Object(C.jsxs)("div",{style:{padding:50},className:"App",children:[Object(C.jsx)(i.a,{container:!0,spacing:3,children:Object(C.jsxs)(i.a,{item:!0,xs:6,children:[Object(C.jsx)(E,{post:a}),Object(C.jsx)(F,{post:a})]})}),r.map((function(e,t){return Object(C.jsx)(i.a,{item:!0,xs:9,sm:6,children:Object(C.jsx)(Y,{comment:e})},t)}))]})},Q=n(27),q=n(14),B=function(e){var t,n;console.log(null===(t=e.post)||void 0===t?void 0:t.post_id,"adding comments");var c=null===(n=e.post)||void 0===n?void 0:n.post_id,a=e.up_level_cid;console.log(a);var r=Object(s.b)(),i=Object(o.useState)(""),d=Object(H.a)(i,2),u=d[0],p=d[1],m=function(){var e=Object(N.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r(V(c,u));case 3:p("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(J.a,{id:"outlined-multiline-static",margin:"normal",label:"Comment as ",multiline:!0,rows:4,variant:"outlined",size:"medium",fullWidth:!0,onChange:function(e){return p(e.target.value)},value:u}),Object(C.jsx)(l.a,{variant:"contained",color:"primary",onClick:m,children:"Reply"})]})},X=function(e){var t,n=e.match,c=null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.commentid,a=localStorage.getItem("post_id"),r=Object(s.c)((function(e){return console.log("haha",e),e.Thread}));console.log("threaddd",r);var i=Object(s.b)();Object(o.useEffect)((function(){i(function(e){return function(){var t=Object(N.a)(T.a.mark((function t(n){var o,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:o=t.sent,c=o.data,console.log("thread data",c),n({type:"GET_THREAD",payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(c)),i(U(a))}),[i,a,c]);var l=Object(s.c)((function(e){return e.Posts})).find((function(e){return e.post_id==a}));console.log("seriosdebug",l);var d=Object(s.c)((function(e){return e.Comments}));console.log("kkk",d);var u=d.find((function(e){return e.comment_id==c}));return Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[Object(C.jsx)(Y,{comment:u}),Object(C.jsx)(B,{post:a,up_level_cid:c}),r.map((function(e,t){return Object(C.jsx)("div",{keys:t,children:Object(C.jsx)(Y,{comment:e})})}))," "]})})},K=function(){return Object(C.jsx)(q.b,{history:g,children:Object(C.jsxs)(q.c,{children:[Object(C.jsx)(q.a,{path:"/",exact:!0,children:Object(C.jsx)(G,{})}),Object(C.jsx)(q.a,{path:"/:postid/comments",component:Z,exact:!0}),Object(C.jsx)(q.a,{path:"/comments/:commentid/thread",component:X,exact:!0})]})})},$=n.p+"static/media/logo.7c0ee393.png",ee=function(){var e=Object(s.b)();return Object(o.useEffect)((function(){e(function(){var e=Object(N.a)(T.a.mark((function e(t){var n,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/posts");case 3:n=e.sent,o=n.data,t({type:"FETCH_ALL",payload:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(N.a)(T.a.mark((function e(t){var n,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/users");case 3:n=e.sent,o=n.data,console.log("thread data",o),t({type:"GET_USER",payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),console.log("Dispatching")}),[e]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"app__header",children:Object(C.jsx)("img",{className:"app__headerImage",src:$,alt:"Logo"})}),Object(C.jsxs)("div",{className:"app",children:[Object(C.jsx)(Q.a,{children:Object(C.jsx)(K,{})}),Object(C.jsx)("div",{})]})]})},te=n(25),ne=n(85),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return t.payload;default:return e}},ce=n(86),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POST_COMMENTS":return t.payload;case"CREATE":return[].concat(Object(ce.a)(e),[t.payload]);case"UPVOTE_COMMENT":case"DOWNVOTE_COMMENT":default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_THREAD":case"REPLY_COMMENT":return t.payload;default:return e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return t.payload;default:return e}},se=Object(te.c)({Posts:oe,Comments:ae,Thread:re,User:ie}),le=Object(te.e)(se,Object(te.d)(Object(te.a)(ne.a)));a.a.render(Object(C.jsx)(s.a,{store:le,children:Object(C.jsx)(ee,{})}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.3864bd9f.chunk.js.map